<ion-header>
  <ion-toolbar color="primary">
    <ion-title>Ordens de serviço</ion-title>
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-list>
    <ion-item-sliding *ngFor="let ordem of ordens">
      <ion-item>
        <ion-label>
          <h2>
            N° {{ordem.id}}
          </h2>
          <h3>
            Data: <ion-text color="medium">{{ordem.data | date:'dd/MM/yyyy'}}</ion-text>
          </h3>
          <h3>
            Cliente: <ion-text color="medium">{{ordem.cliente.nome}}</ion-text>
          </h3>
          <h3>
            Veiculo: <ion-text color="medium">{{ordem.veiculo.descricao}}</ion-text>
          </h3>
          <h3>
            Mecânico: <ion-text color="medium">{{ordem.mecanico.nome}}</ion-text>
          </h3>

          <h3>Peça(s):</h3>
          <ul class="pecas">
            <li *ngFor="let peca of ordem.pecas">
              {{peca.descricao}} |
              <ion-text color="medium">{{peca.preco | currency:'BRL'}}</ion-text>
            </li>
          </ul>

          <h3>Serviço(s):</h3>
          <ul class="servicos">
            <li *ngFor="let servico of ordem.servicos">
              {{servico.descricao}} |
              <ion-text color="medium">{{servico.preco | currency:'BRL'}}</ion-text>
            </li>
          </ul>
                    
          <h3>
            Total de peça(s): <ion-text color="medium">{{ordem.totalPeca | currency:'BRL'}}</ion-text>
          </h3>
          <h3>
            Total de serviço(s): <ion-text color="medium">{{ordem.totalServico | currency:'BRL'}}</ion-text>
          </h3>
          <h3>
            Desconto: <ion-text color="medium">{{ordem.desconto | currency:'BRL'}}</ion-text>
          </h3>
          <h3>
            Total Bruto: <ion-text color="medium">{{ordem.totalBruto | currency:'BRL'}}</ion-text>
          </h3>
          <h3>
            Total Líquido: <ion-text color="success">{{ordem.totalLiquido | currency:'BRL'}}</ion-text>
          </h3>
         </ion-label>
      </ion-item>
      <ion-item-options side="start">
        <ion-item-option [routerLink]="['/ordens', 'editar', ordem.id]">
          <ion-icon name="create" slot="icon-only"></ion-icon>
        </ion-item-option>
      </ion-item-options>
      <ion-item-options side="end">
        <ion-item-option color="danger" (click)="confirmarExclusao(ordem)">
          <ion-icon name="trash-sharp" slot="icon-only" ></ion-icon>
        </ion-item-option>
      </ion-item-options>
    </ion-item-sliding>
  </ion-list>

  <ion-fab vertical="bottom" horizontal="end">
    <ion-fab-button [routerLink]="['/ordens', 'cadastro']">
      <ion-icon name="add"></ion-icon>
    </ion-fab-button>
  </ion-fab>
</ion-content>
